{"ast":null,"code":"import _objectSpread from\"D:/Semiter 8/SWD/Material React/material-kit-pro-react-v1.10.0/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Semiter 8/SWD/Material React/material-kit-pro-react-v1.10.0/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";// used for making the prop types of this component\n// core components\nimport Button from\"components/CustomButtons/Button.js\";import defaultImage from\"assets/img/image_placeholder.jpg\";import defaultAvatar from\"assets/img/placeholder.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ImageUpload(props){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),file=_React$useState2[0],setFile=_React$useState2[1];var _React$useState3=React.useState(props.avatar?defaultAvatar:defaultImage),_React$useState4=_slicedToArray(_React$useState3,2),imagePreviewUrl=_React$useState4[0],setImagePreviewUrl=_React$useState4[1];var fileInput=/*#__PURE__*/React.createRef();var handleImageChange=function handleImageChange(e){e.preventDefault();var reader=new FileReader();var file=e.target.files[0];reader.onloadend=function(){setFile(file);setImagePreviewUrl(reader.result);if(props.onChange){props.onChange(file);}};if(file){reader.readAsDataURL(file);}};// eslint-disable-next-line\nvar handleSubmit=function handleSubmit(e){e.preventDefault();// file is the file/image uploaded\n// in this function you can save the image (file) on form submit\n// you have to call it yourself\n};var handleClick=function handleClick(){fileInput.current.click();};var handleRemove=function handleRemove(){setFile(null);setImagePreviewUrl(props.avatar?defaultAvatar:defaultImage);fileInput.current.value=null;};var avatar=props.avatar,addButtonProps=props.addButtonProps,changeButtonProps=props.changeButtonProps,removeButtonProps=props.removeButtonProps;return/*#__PURE__*/_jsxs(\"div\",{className:\"fileinput text-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleImageChange,ref:fileInput}),/*#__PURE__*/_jsx(\"div\",{className:\"thumbnail\"+(avatar?\" img-circle\":\"\"),children:/*#__PURE__*/_jsx(\"img\",{src:imagePreviewUrl,alt:\"...\"})}),/*#__PURE__*/_jsx(\"div\",{children:file===null?/*#__PURE__*/_jsx(Button,_objectSpread(_objectSpread({},addButtonProps),{},{onClick:function onClick(){return handleClick();},children:avatar?\"Add Photo\":\"Select image\"})):/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(Button,_objectSpread(_objectSpread({},changeButtonProps),{},{onClick:function onClick(){return handleClick();},children:\"Change\"})),avatar?/*#__PURE__*/_jsx(\"br\",{}):null,/*#__PURE__*/_jsxs(Button,_objectSpread(_objectSpread({},removeButtonProps),{},{onClick:function onClick(){return handleRemove();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"}),\" Remove\"]}))]})})]});}","map":{"version":3,"names":["React","Button","defaultImage","defaultAvatar","ImageUpload","props","useState","file","setFile","avatar","imagePreviewUrl","setImagePreviewUrl","fileInput","createRef","handleImageChange","e","preventDefault","reader","FileReader","target","files","onloadend","result","onChange","readAsDataURL","handleSubmit","handleClick","current","click","handleRemove","value","addButtonProps","changeButtonProps","removeButtonProps"],"sources":["D:/Semiter 8/SWD/Material React/material-kit-pro-react-v1.10.0/src/components/CustomUpload/ImageUpload.js"],"sourcesContent":["import React from \"react\";\n// used for making the prop types of this component\nimport PropTypes from \"prop-types\";\n\n// core components\nimport Button from \"components/CustomButtons/Button.js\";\n\nimport defaultImage from \"assets/img/image_placeholder.jpg\";\nimport defaultAvatar from \"assets/img/placeholder.jpg\";\n\nexport default function ImageUpload(props) {\n  const [file, setFile] = React.useState(null);\n  const [imagePreviewUrl, setImagePreviewUrl] = React.useState(\n    props.avatar ? defaultAvatar : defaultImage\n  );\n  let fileInput = React.createRef();\n  const handleImageChange = (e) => {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    reader.onloadend = () => {\n      setFile(file);\n      setImagePreviewUrl(reader.result);\n      if (props.onChange) {\n        props.onChange(file);\n      }\n    };\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  };\n  // eslint-disable-next-line\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // file is the file/image uploaded\n    // in this function you can save the image (file) on form submit\n    // you have to call it yourself\n  };\n  const handleClick = () => {\n    fileInput.current.click();\n  };\n  const handleRemove = () => {\n    setFile(null);\n    setImagePreviewUrl(props.avatar ? defaultAvatar : defaultImage);\n    fileInput.current.value = null;\n  };\n  let { avatar, addButtonProps, changeButtonProps, removeButtonProps } = props;\n  return (\n    <div className=\"fileinput text-center\">\n      <input type=\"file\" onChange={handleImageChange} ref={fileInput} />\n      <div className={\"thumbnail\" + (avatar ? \" img-circle\" : \"\")}>\n        <img src={imagePreviewUrl} alt=\"...\" />\n      </div>\n      <div>\n        {file === null ? (\n          <Button {...addButtonProps} onClick={() => handleClick()}>\n            {avatar ? \"Add Photo\" : \"Select image\"}\n          </Button>\n        ) : (\n          <span>\n            <Button {...changeButtonProps} onClick={() => handleClick()}>\n              Change\n            </Button>\n            {avatar ? <br /> : null}\n            <Button {...removeButtonProps} onClick={() => handleRemove()}>\n              <i className=\"fas fa-times\" /> Remove\n            </Button>\n          </span>\n        )}\n      </div>\n    </div>\n  );\n}\n\nImageUpload.propTypes = {\n  avatar: PropTypes.bool,\n  addButtonProps: PropTypes.object,\n  changeButtonProps: PropTypes.object,\n  removeButtonProps: PropTypes.object,\n  // it is a function from which you can get the files and fileNames that were uploaded\n  // more can be read here: https://github.com/creativetimofficial/ct-material-kit-pro-react/issues/64\n  onChange: PropTypes.func,\n};\n"],"mappings":"uSAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA;AAGA;AACA,MAAOC,OAAP,KAAmB,oCAAnB,CAEA,MAAOC,aAAP,KAAyB,kCAAzB,CACA,MAAOC,cAAP,KAA0B,4BAA1B,C,wFAEA,cAAe,SAASC,YAAT,CAAqBC,KAArB,CAA4B,CACzC,oBAAwBL,KAAK,CAACM,QAAN,CAAe,IAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAA8CR,KAAK,CAACM,QAAN,CAC5CD,KAAK,CAACI,MAAN,CAAeN,aAAf,CAA+BD,YADa,CAA9C,qDAAOQ,eAAP,qBAAwBC,kBAAxB,qBAGA,GAAIC,UAAS,cAAGZ,KAAK,CAACa,SAAN,EAAhB,CACA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,CAACC,CAAD,CAAO,CAC/BA,CAAC,CAACC,cAAF,GACA,GAAIC,OAAM,CAAG,GAAIC,WAAJ,EAAb,CACA,GAAIX,KAAI,CAAGQ,CAAC,CAACI,MAAF,CAASC,KAAT,CAAe,CAAf,CAAX,CACAH,MAAM,CAACI,SAAP,CAAmB,UAAM,CACvBb,OAAO,CAACD,IAAD,CAAP,CACAI,kBAAkB,CAACM,MAAM,CAACK,MAAR,CAAlB,CACA,GAAIjB,KAAK,CAACkB,QAAV,CAAoB,CAClBlB,KAAK,CAACkB,QAAN,CAAehB,IAAf,EACD,CACF,CAND,CAOA,GAAIA,IAAJ,CAAU,CACRU,MAAM,CAACO,aAAP,CAAqBjB,IAArB,EACD,CACF,CAdD,CAeA;AACA,GAAMkB,aAAY,CAAG,QAAfA,aAAe,CAACV,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACA;AACA;AACA;AACD,CALD,CAMA,GAAMU,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxBd,SAAS,CAACe,OAAV,CAAkBC,KAAlB,GACD,CAFD,CAGA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzBrB,OAAO,CAAC,IAAD,CAAP,CACAG,kBAAkB,CAACN,KAAK,CAACI,MAAN,CAAeN,aAAf,CAA+BD,YAAhC,CAAlB,CACAU,SAAS,CAACe,OAAV,CAAkBG,KAAlB,CAA0B,IAA1B,CACD,CAJD,CAKA,GAAMrB,OAAN,CAAuEJ,KAAvE,CAAMI,MAAN,CAAcsB,cAAd,CAAuE1B,KAAvE,CAAc0B,cAAd,CAA8BC,iBAA9B,CAAuE3B,KAAvE,CAA8B2B,iBAA9B,CAAiDC,iBAAjD,CAAuE5B,KAAvE,CAAiD4B,iBAAjD,CACA,mBACE,aAAK,SAAS,CAAC,uBAAf,wBACE,cAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAEnB,iBAA7B,CAAgD,GAAG,CAAEF,SAArD,EADF,cAEE,YAAK,SAAS,CAAE,aAAeH,MAAM,CAAG,aAAH,CAAmB,EAAxC,CAAhB,uBACE,YAAK,GAAG,CAAEC,eAAV,CAA2B,GAAG,CAAC,KAA/B,EADF,EAFF,cAKE,qBACGH,IAAI,GAAK,IAAT,cACC,KAAC,MAAD,gCAAYwB,cAAZ,MAA4B,OAAO,CAAE,yBAAML,YAAW,EAAjB,EAArC,UACGjB,MAAM,CAAG,WAAH,CAAiB,cAD1B,GADD,cAKC,qCACE,KAAC,MAAD,gCAAYuB,iBAAZ,MAA+B,OAAO,CAAE,yBAAMN,YAAW,EAAjB,EAAxC,qBADF,CAIGjB,MAAM,cAAG,aAAH,CAAY,IAJrB,cAKE,MAAC,MAAD,gCAAYwB,iBAAZ,MAA+B,OAAO,CAAE,yBAAMJ,aAAY,EAAlB,EAAxC,wBACE,UAAG,SAAS,CAAC,cAAb,EADF,cALF,GANJ,EALF,GADF,CAyBD"},"metadata":{},"sourceType":"module"}