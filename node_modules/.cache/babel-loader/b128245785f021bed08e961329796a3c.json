{"ast":null,"code":"import _objectSpread from \"D:/Study/CN7/SWD/material-kit-pro-react-v1.10.0/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"D:/Study/CN7/SWD/material-kit-pro-react-v1.10.0/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"D:\\\\Study\\\\CN7\\\\SWD\\\\material-kit-pro-react-v1.10.0\\\\src\\\\components\\\\CustomUpload\\\\ImageUpload.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\"; // used for making the prop types of this component\n\nimport PropTypes from \"prop-types\"; // core components\n\nimport Button from \"components/CustomButtons/Button.js\";\nimport defaultImage from \"assets/img/image_placeholder.jpg\";\nimport defaultAvatar from \"assets/img/placeholder.jpg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ImageUpload(props) {\n  _s();\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      file = _React$useState2[0],\n      setFile = _React$useState2[1];\n\n  var _React$useState3 = React.useState(props.avatar ? defaultAvatar : defaultImage),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      imagePreviewUrl = _React$useState4[0],\n      setImagePreviewUrl = _React$useState4[1];\n\n  var fileInput = /*#__PURE__*/React.createRef();\n\n  var handleImageChange = function handleImageChange(e) {\n    e.preventDefault();\n    var reader = new FileReader();\n    var file = e.target.files[0];\n\n    reader.onloadend = function () {\n      setFile(file);\n      setImagePreviewUrl(reader.result);\n\n      if (props.onChange) {\n        props.onChange(file);\n      }\n    };\n\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  }; // eslint-disable-next-line\n\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault(); // file is the file/image uploaded\n    // in this function you can save the image (file) on form submit\n    // you have to call it yourself\n  };\n\n  var handleClick = function handleClick() {\n    fileInput.current.click();\n  };\n\n  var handleRemove = function handleRemove() {\n    setFile(null);\n    setImagePreviewUrl(props.avatar ? defaultAvatar : defaultImage);\n    fileInput.current.value = null;\n  };\n\n  var avatar = props.avatar,\n      addButtonProps = props.addButtonProps,\n      changeButtonProps = props.changeButtonProps,\n      removeButtonProps = props.removeButtonProps;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fileinput text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: handleImageChange,\n      ref: fileInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"thumbnail\" + (avatar ? \" img-circle\" : \"\"),\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imagePreviewUrl,\n        alt: \"...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: file === null ? /*#__PURE__*/_jsxDEV(Button, _objectSpread(_objectSpread({}, addButtonProps), {}, {\n        onClick: function onClick() {\n          return handleClick();\n        },\n        children: avatar ? \"Add Photo\" : \"Select image\"\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(Button, _objectSpread(_objectSpread({}, changeButtonProps), {}, {\n          onClick: function onClick() {\n            return handleClick();\n          },\n          children: \"Change\"\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), avatar ? /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 23\n        }, this) : null, /*#__PURE__*/_jsxDEV(Button, _objectSpread(_objectSpread({}, removeButtonProps), {}, {\n          onClick: function onClick() {\n            return handleRemove();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-times\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), \" Remove\"]\n        }), void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ImageUpload, \"9F6ik790T/NAC7acLyjdgSC127Q=\");\n\n_c = ImageUpload;\nImageUpload.propTypes = {\n  avatar: PropTypes.bool,\n  addButtonProps: PropTypes.object,\n  changeButtonProps: PropTypes.object,\n  removeButtonProps: PropTypes.object,\n  // it is a function from which you can get the files and fileNames that were uploaded\n  // more can be read here: https://github.com/creativetimofficial/ct-material-kit-pro-react/issues/64\n  onChange: PropTypes.func\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"ImageUpload\");","map":{"version":3,"names":["React","PropTypes","Button","defaultImage","defaultAvatar","ImageUpload","props","useState","file","setFile","avatar","imagePreviewUrl","setImagePreviewUrl","fileInput","createRef","handleImageChange","e","preventDefault","reader","FileReader","target","files","onloadend","result","onChange","readAsDataURL","handleSubmit","handleClick","current","click","handleRemove","value","addButtonProps","changeButtonProps","removeButtonProps","propTypes","bool","object","func"],"sources":["D:/Study/CN7/SWD/material-kit-pro-react-v1.10.0/src/components/CustomUpload/ImageUpload.js"],"sourcesContent":["import React from \"react\";\n// used for making the prop types of this component\nimport PropTypes from \"prop-types\";\n\n// core components\nimport Button from \"components/CustomButtons/Button.js\";\n\nimport defaultImage from \"assets/img/image_placeholder.jpg\";\nimport defaultAvatar from \"assets/img/placeholder.jpg\";\n\nexport default function ImageUpload(props) {\n  const [file, setFile] = React.useState(null);\n  const [imagePreviewUrl, setImagePreviewUrl] = React.useState(\n    props.avatar ? defaultAvatar : defaultImage\n  );\n  let fileInput = React.createRef();\n  const handleImageChange = (e) => {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    reader.onloadend = () => {\n      setFile(file);\n      setImagePreviewUrl(reader.result);\n      if (props.onChange) {\n        props.onChange(file);\n      }\n    };\n    if (file) {\n      reader.readAsDataURL(file);\n    }\n  };\n  // eslint-disable-next-line\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // file is the file/image uploaded\n    // in this function you can save the image (file) on form submit\n    // you have to call it yourself\n  };\n  const handleClick = () => {\n    fileInput.current.click();\n  };\n  const handleRemove = () => {\n    setFile(null);\n    setImagePreviewUrl(props.avatar ? defaultAvatar : defaultImage);\n    fileInput.current.value = null;\n  };\n  let { avatar, addButtonProps, changeButtonProps, removeButtonProps } = props;\n  return (\n    <div className=\"fileinput text-center\">\n      <input type=\"file\" onChange={handleImageChange} ref={fileInput} />\n      <div className={\"thumbnail\" + (avatar ? \" img-circle\" : \"\")}>\n        <img src={imagePreviewUrl} alt=\"...\" />\n      </div>\n      <div>\n        {file === null ? (\n          <Button {...addButtonProps} onClick={() => handleClick()}>\n            {avatar ? \"Add Photo\" : \"Select image\"}\n          </Button>\n        ) : (\n          <span>\n            <Button {...changeButtonProps} onClick={() => handleClick()}>\n              Change\n            </Button>\n            {avatar ? <br /> : null}\n            <Button {...removeButtonProps} onClick={() => handleRemove()}>\n              <i className=\"fas fa-times\" /> Remove\n            </Button>\n          </span>\n        )}\n      </div>\n    </div>\n  );\n}\n\nImageUpload.propTypes = {\n  avatar: PropTypes.bool,\n  addButtonProps: PropTypes.object,\n  changeButtonProps: PropTypes.object,\n  removeButtonProps: PropTypes.object,\n  // it is a function from which you can get the files and fileNames that were uploaded\n  // more can be read here: https://github.com/creativetimofficial/ct-material-kit-pro-react/issues/64\n  onChange: PropTypes.func,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}